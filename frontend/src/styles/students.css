/* ===== Students â€” modern visual language (cards only) ===== */

.students-page .h2 { margin-bottom: 8px; }
.header-row {
  display: flex; align-items: end; justify-content: space-between; gap: 16px; margin-bottom: 8px;
}
.kpis { display: flex; gap: 8px; }
.badge.kpi { background: #f6f7fb; border: 1px solid #e6e6ee; color: #344054; padding: 6px 10px; border-radius: 999px; font-size: 12px; }

/* Actions */
.split-actions { display: flex; gap: 10px; align-items: center; }
.split { position: relative; overflow: visible; }

/* --- DROPDOWN MENU (CLICK-TO-TOGGLE) --- */
.split > .menu {
  position: absolute; right: 0; top: 110%;
  background: #fff; border: 1px solid #e6e6ee; border-radius: 12px; padding: 8px; min-width: 220px;
  display: none; box-shadow: 0 10px 30px rgba(16,24,40,.08); z-index: 1000;
}
.split.open > .menu { display: block; }
.split .menu button,
.split .menu .upload { width: 100%; text-align: left; padding: 8px 10px; border-radius: 8px; }
.split .menu button:hover,
.split .menu .upload:hover { background: #f5f8ff; }
.split .menu .upload { position: relative; overflow: hidden; display: inline-block; cursor: pointer; }
.split .menu .upload input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }

/* ===== Toolbar ===== */
.students-page .card.filters-pro { position: static; z-index: auto; overflow: visible; margin-bottom: 12px; }
.toolbar-pro {
  display: grid;
  grid-template-columns: 1.6fr 1fr 1.2fr 1fr 1.4fr auto;
  gap: 12px;
  align-items: end;
}
.field .label { display: block; color: #667085; font-size: 12px; margin-bottom: 6px; }
.input.big { padding-block: 10px; }
.pills .pillset { display: inline-flex; gap: 6px; }
.pill { border: 1px solid #e6e6ee; background: #fff; padding: 6px 10px; border-radius: 999px; font-size: 12px; color: #334155; }
.pill.active { background: #eef2ff; border-color: #c7d2fe; color: #3730a3; }
.field.actions { display: inline-flex; gap: 8px; align-items: center; justify-content: flex-end; }
.density { display: inline-flex; gap: 8px; align-items: center; font-size: 12px; color: #667085; }

/* Active chips */
.students-page .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; align-items: center; }
.students-page .chip { border: 1px solid #e6e6ee; background: #f6f7fb; color: #333; border-radius: 9999px; padding: 6px 10px; font-size: 12px; display: inline-flex; align-items: center; gap: 6px; }
.students-page .chips-hint { color: #667085; font-size: 12px; margin-left: 6px; }

/* ===== Cards view ===== */
.cards-wrap { padding: 16px; }
.grid-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 14px;
}
.student-card {
  position: relative;
  border: 1px solid #e6e6ee;
  border-radius: 16px;
  background: #fff;
  padding: 14px;
  box-shadow: 0 4px 14px rgba(16,24,40,.05);
  transition: transform .12s ease, box-shadow .12s ease;
  cursor: pointer;
}
.student-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(16,24,40,.08);
}
.student-card:focus-visible { outline: 3px solid #c7d2fe; outline-offset: 2px; }

.card-top { display: flex; align-items: center; justify-content: space-between; }
.avatar {
  width: 64px; height: 64px; border-radius: 12px;
  display: grid; place-items: center;
  font-weight: 700; font-size: 20px;
  outline: 6px solid transparent;
}
.id-badge { font-size: 12px; color: #667085; }

.name { margin: 10px 0 6px; font-size: 16px; line-height: 1.25; }
.name .muted { color: #98a2b3; }

.meta { display: grid; gap: 4px; color: #475569; font-size: 13px; margin-bottom: 8px; }
.meta .label { color: #94a3b8; font-size: 12px; padding-right: 6px; }

.counts { display: flex; gap: 6px; margin-bottom: 8px; }
.count { font-size: 12px; border: 1px solid #e6e6ee; border-radius: 999px; padding: 4px 8px; }
.count.present { background: #ecfdf5; border-color: #a7f3d0; color: #065f46; }
.count.absent { background: #fef2f2; border-color: #fecaca; color: #7f1d1d; }

/* Hover actions */
.card-actions {
  display: flex; gap: 6px; flex-wrap: wrap;
  opacity: 0; transform: translateY(6px); transition: all .12s ease;
}
.student-card:hover .card-actions { opacity: 1; transform: translateY(0); }

/* Overlay kept but disabled so it never steals clicks */
.card-overlay {
  position: absolute; inset: 0; border: none; background: transparent; border-radius: 16px;
  pointer-events: none; /* IMPORTANT: do not intercept clicks */
}

/* Dense mode */
.cards-wrap.dense .student-card { padding: 10px; border-radius: 12px; }
.cards-wrap.dense .avatar { width: 56px; height: 56px; font-size: 18px; }

/* Note preview dot (if you reuse in table later) */
.note-cell { display: flex; align-items: center; gap: 8px; }
.note-preview { color: #555; }
.dot-green { position: absolute; top: -4px; right: -4px; width: 10px; height: 10px; border-radius: 999px; background: #22c55e; }

/* ===== SideSheet ===== */
.sheet { position: fixed; inset: 0; pointer-events: none; z-index: 50; }
.sheet.open { pointer-events: auto; }
.sheet-backdrop { position: absolute; inset: 0; background: rgba(16,24,40,.35); opacity: 0; transition: opacity .2s; }
.sheet.open .sheet-backdrop { opacity: 1; }
.sheet-panel {
  position: absolute; top: 0; right: 0; height: 100%; width: min(520px, 92vw);
  background: #fff; border-left: 1px solid #e6e6ee; transform: translateX(100%); transition: transform .25s;
  display: flex; flex-direction: column;
  box-shadow: -24px 0 60px rgba(16,24,40,.12);
}
.sheet.open .sheet-panel { transform: translateX(0); }
.sheet-head { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; border-bottom: 1px solid #eef0f4; }
.sheet-body { padding: 16px; overflow: auto; }
.sheet-foot { padding: 12px 16px; border-top: 1px solid #eef0f4; display: flex; justify-content: flex-end; gap: 8px; }
.icon-btn { width: 32px; height: 32px; border-radius: 8px; border: 1px solid #e6e6ee; background: #fff; font-size: 18px; line-height: 1; }

.sheet-form .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.sheet-inline-actions { display: flex; gap: 8px; margin-top: 12px; }

@media (max-width: 980px) {
  .toolbar-pro { grid-template-columns: 1fr 1fr; }
  .sheet-form .grid-2 { grid-template-columns: 1fr; }
}
